# Mag 现货提示系统

基于场外体系的智能交易分析系统，通过低反身性数据源自动检测关键节点并生成分级操作建议。

## 目录

- [一、场外体系的由来](#一场外体系的由来)
- [二、对市场的认知](#二对市场的认知)
- [三、场外体系的实际用法](#三场外体系的实际用法)
- [四、示例详解](#四示例详解)
- [五、功能特性](#五功能特性)
- [六、安装与使用](#六安装与使用)
- [七、技术文档](#七技术文档)

---

## 一、场外体系的由来

Mag场外体系源自早期纳斯达克场外粉单交易分析。为了防止"交易指标钝化"，体系把**低反身性**放在首位。如果不这样做，就会沦为Trading View上点赞过百却迅速失效的参考系统。

### 为什么要场外分析？

通过低反身性的数据源头减少被市场消耗的概率，规避集体效应的失真。

### 发展历程

- **2017年前**: 主要通过 Local Bitcoin
- **2017-2020**: 通过早期 OTC 交易拟合平台
- **2020 DeFi之夏后**:
  - 动态筛选所有池子
  - 给予不同权重和调参
  - 对场外巨鲸和高权重交易重点关注
  - 对高反身性池子剔除
  - 形成动态的新陈代谢数据取舍

### 三大核心指标

**1. 场外指数** - 描述场外资金的拉盘档位，和资金使用效率相关
- **1000** 是中性值和参考点
- 过低"几乎可以肯定不会大幅拉盘"
- 对操盘手而言，低场外指数意味着"资金使用效率极低"

**2. 爆破指数** - 描述短线场外的"油门"大小
- 从负变正的日期"是重要抄底参考点"
- **200** 是重要阈值
- **0** 是负转正的关键节点

**3. 场外进退场期** - "操作情绪"的核心体现
- **进退场第一天**是入场和止盈最关键的参考
- 这是这套系统的**看家本领**

---

## 二、对市场的认知

### 市场的本质结构

市场一直都是"多庄、散户博弈"，但如果把思路简化为**"两庄加散户"**的结构，我们会更容易看懂市场每一轮大行情的源头和本质。

### 三个阶段的博弈

#### 吸筹阶段
两方主力都在场外悄悄布局：
- 主力A集中买入某个赛道的筹码
- 主力B在别的地方埋伏，或静待时机
- 场内冷清，价格没起色
- **比拼**: 谁能不声不响地攒够筹码、谁的成本更低

#### 拉盘阶段
主力开始行动：
- 一个主力突然把价格推高，激活市场情绪
- 另一个主力可能顺势策应，或做对手盘
- **比拼**: 谁能发动更强攻势，把跟风资金吸引到自己方向
- 散户追高跟进，成了两庄博弈的助推器

#### 出货阶段
主力在高位派发筹码：
- 一方出货时，另一方制造分歧、适时打压
- 配合横盘拖延，让散户形成"还会再涨"的错觉
- **比拼**: 争夺最后的主动权
- 散户通常最后一个明白行情转折

### 核心理念

> "价格只是表象，主力行动和两庄的互相作用才是趋势的核心燃料"

行情不会凭空上涨或下跌，每一波大行情的背后，本质上都是：
- 场外主力之间的**吸筹较量**
- 场外主力之间的**拉盘分歧**
- 场外主力之间的**出货协作**

散户大多处在消息滞后、易受影响的位置。只有跟着场外资金的脚步、理解资金如何高效进退，你才能逆转"不明觉厉被收割"的宿命，获得长期稳定的主动权。

---

## 三、场外体系的实际用法

Mag场外体系用最简单的数据，快速看懂市场背后的资金行为和主力意图。

### 1. 对标链的理解 🔗

把市场想象成一条"对标链"：

```
美股纳指 (顶层)
    ↓
比特币 (BTC)
    ↓
龙头币 (ETH, BNB, SOL, DOGE 等)
    ↓
小币种 (其他山寨币)
```

**操作原则**:
- 无论交易哪个币，优先判断**对标链更上层**的行情
- 美股和比特币表现好 + 龙头币同步共振 → 再考虑目标币
- 如果上游出问题（美股或BTC资金退场）→ 即使小币很强也要谨慎
- **顶层的"水龙头"关了，下游再努力也难持续**

### 2. 如何比较关键节点 📊

场外体系里，每一次进场或退场，都有重要的**参照节点**。

#### 进场期第一天
必须和以下两者中**时间更近**的节点对比：
- 最近一次**爆破指数跌破200**
- 前一次**进场期第一天**

目的：对比本轮开始时资金质量

#### 退场期第一天
必须和以下两者中**时间更近**的节点对比：
- 最近一次**爆破指数负转正**
- 前一次**退场期第一天**

目的：看资金撤离的速度和质量

#### 插值计算
如果两个关键节点不在同一天，需要用**线性插值法**推算。

**示例**：
```
10.10: 场外指数 1200, 爆破指数 220
10.11: 场外指数 800,  爆破指数 180

需要估算爆破指数正好跌破200时的场外指数：
场外指数@200 = 1200 + (800-1200) × (200-220)/(180-220)
              = 1200 + (-400) × (-20)/(-40)
              = 1200 - 200
              = 1000
```

### 3. 特殊情况：相变值的处理 ⚡

场外指数有个**"相变线"** - **1000分界**。

如果关键节点一个在1000以下、一个在1000以上（如 980→1010），这种跨越意味着：
- 行情效率切换很大
- 主力意愿切换很大

**处理方式**：
- 正常涨幅外，额外加上 **+5% 补偿**
- 确保这种质变不会被低估

**示例**：
```
980 → 1010
表面涨幅 = (1010-980)/980 × 100% = 3.06%
相变补偿 = +5%
最终涨幅 = 3.06% + 5% = 8.06%
判定结果 = 优质进场 ✓
```

### 4. 波动质量的量化 📈

所有对比都可以量化判断行情是否"优质"。

| 最终百分比 | 质量评级 | 操作建议 |
|-----------|---------|---------|
| > 5% | **优质** | 勇敢操作，可以重仓 |
| -5% ~ 5% | **一般** | 谨慎灵活跟进，轻仓试探 |
| < -5% | **劣质** | 小心止盈，减少操作 |

**质量判定公式**：
```
最终百分比 = 基础涨幅 + 相变修正 + 美股修正 + 爆破指数修正 + 逼近修正
```

**各项修正说明**：
- **相变修正**: 跨越1000分界线 → ±5%
- **美股修正**: 美股退场期 且 币种进场期 → -10%
- **爆破指数修正**:
  - 进场期第一天 且 爆破>200 → -2.5%
  - 退场期第一天 且 爆破<0 → -2.5%
- **逼近修正**: 当日有"逼近"标记 → -5%

---

## 四、示例详解

### 示例1: 简单优质进场 (基础场景)

**数据**:
```
日期: 2025-10-15
币种: BTC
当前状态: 进场期第1天
场外指数: 1050
爆破指数: 235

参考节点 (2025-10-10, 爆破跌破200):
场外指数: 980
爆破指数: 190 → 205 (跨越200)
```

**分析过程**:
```
基础涨幅 = (1050-980)/980 × 100% = 7.14%

最终百分比 = 7.14%
```

**判定结果**: **优质进场期** (> 5%)

**分级建议**:
- **高稳健型**: 分批建仓主流币种（3-5批，每批20%-25%），设置紧密止损（-5%~-8%）
- **高风险型**: 主流币重仓配置（60%-70%），山寨币适度分配（20%-30%）
- **中间型**: 建立基线仓位（40%-50%），逐节点上涨后追加配置

---

### 示例2: 相变修正的优质进场 (跨越1000)

**数据**:
```
日期: 2025-09-20
币种: ETH
当前状态: 进场期第1天
场外指数: 1055
爆破指数: 198

参考节点 (2025-09-18, 爆破跌破200):
场外指数: 920
爆破指数: 188 → 205 (跨越200)
```

**分析过程**:
```
1. 基础涨幅 = (1055-920)/920 × 100% = 14.67%

2. 相变修正 = +5%
   (920 < 1000, 1055 > 1000, 跨越1000分界线向上)

3. 美股修正 = 0 (龙头币)

4. 爆破指数修正 = 0 (爆破指数198正常)

5. 逼近修正 = 0

最终百分比 = 14.67% + 5% + 0 + 0 + 0 = 19.67%
```

**判定结果**: **优质进场期** (远超 5%)

**重点说明**: 相变修正体现了资金效率的质变，从"拉盘效率极低"跃升到"高效拉盘"状态。

---

### 示例3: 美股修正的一般进场 (美股拖累)

**数据**:
```
日期: 2025-08-10
币种: SOL (龙头币)
当前状态: 进场期第1天
场外指数: 1120
爆破指数: 210

参考节点 (2025-08-05, 前一次进场第1天):
场外指数: 950
爆破指数: 150

美股纳指状态: 退场期第3天
```

**分析过程**:
```
1. 基础涨幅 = (1120-950)/950 × 100% = 17.89%

2. 相变修正 = +5%
   (950 < 1000, 1120 > 1000, 跨越1000)

3. 美股修正 = -10%
   (美股退场期 且 SOL进场期，触发修正)

4. 爆破指数修正 = -2.5%
   (进场期第1天 且 爆破指数210 > 200)

5. 逼近修正 = 0

最终百分比 = 17.89% + 5% + (-10%) + (-2.5%) + 0 = 10.39%
```

**判定结果**: **优质进场期** (> 5%)，但受美股拖累

**分级建议**:
- **高稳健型**: 观望为主，等待美股企稳
- **高风险型**: 可以轻仓试探（不超过30%），设置严格止损
- **中间型**: 小仓位建仓（20%），密切关注美股动向

---

### 示例4: 爆破指数修正的劣质进场 (市场过热)

**数据**:
```
日期: 2025-07-22
币种: DOGE (龙头币)
当前状态: 进场期第1天
场外指数: 1080
爆破指数: 255 (过高!)

参考节点 (2025-07-20, 爆破跌破200):
场外指数: 1020
爆破指数: 190 → 205
```

**分析过程**:
```
1. 基础涨幅 = (1080-1020)/1020 × 100% = 5.88%

2. 相变修正 = 0 (都在1000以上)

3. 美股修正 = 0 (美股正常)

4. 爆破指数修正 = -2.5%
   (进场期第1天 且 爆破指数255 > 200，市场过热)

5. 逼近修正 = 0

最终百分比 = 5.88% + 0 + 0 + (-2.5%) + 0 = 3.38%
```

**判定结果**: **一般进场期** (-5% ~ 5%)

**重点说明**: 爆破指数过高说明市场已经过热，主力可能随时获利了结，需要谨慎。

**分级建议**:
- **高稳健型**: 不建议入场
- **高风险型**: 超短线操作（1-2天），快进快出
- **中间型**: 观望，等待爆破指数回落

---

### 示例5: 逼近修正的一般进场 (主力犹豫)

**数据**:
```
日期: 2025-06-15
币种: BNB (龙头币)
当前状态: 进场期第1天 逼近 ← 关键!
场外指数: 1004
爆破指数: 131

参考节点 (2025-06-10, 前一次进场第1天):
场外指数: 850
爆破指数: 95
```

**分析过程**:
```
1. 基础涨幅 = (1004-850)/850 × 100% = 18.12%

2. 相变修正 = +5%
   (850 < 1000, 1004 > 1000, 跨越1000)

3. 美股修正 = 0

4. 爆破指数修正 = 0 (爆破指数131正常)

5. 逼近修正 = -5%
   (当日有"逼近"标记，主力有进场转退场的意愿)

最终百分比 = 18.12% + 5% + 0 + 0 + (-5%) = 18.12%
```

**判定结果**: **优质进场期** (> 5%)，但有隐忧

**重点说明**: "逼近"代表场外主力有进场转退场的意愿，虽然是弱信号，但出现在关键节点时需要警惕。

**分级建议**:
- **高稳健型**: 轻仓试探（20%），密切观察后续走势
- **高风险型**: 中仓参与（40%-50%），设置跟踪止损
- **中间型**: 分批建仓（30%起），观察是否真正启动

---

### 示例6: 小币对标链验证 (复杂场景)

**数据**:
```
日期: 2025-05-10
币种: LINK (小币)
当前状态: 进场期第1天
场外指数: 1150
爆破指数: 167

参考节点 (2025-05-05, 前一次进场第1天):
场外指数: 900
爆破指数: 80

对标链状态:
- 美股纳指: 进场期第5天 ✓
- BTC: 进场期第3天 ✓
- ETH: 进场期第2天 ✓
- BNB: 进场期第4天 ✓
- SOL: 退场期第1天 ✗
- DOGE: 进场期第6天 ✓
```

**分析过程**:
```
1. 基础涨幅 = (1150-900)/900 × 100% = 27.78%

2. 相变修正 = +5%
   (900 < 1000, 1150 > 1000)

3. 美股修正 = 0 (美股进场期)

4. 爆破指数修正 = 0

5. 逼近修正 = 0

最终百分比 = 27.78% + 5% + 0 + 0 + 0 = 32.78%
```

**对标链验证**:
```
美股: ✓ 进场期
BTC:  ✓ 进场期
龙头币 (ETH, BNB, DOGE): ✓ 进场期
龙头币 (SOL): ✗ 退场期 ← 有一个龙头币退场!

对标链状态: 部分通过 ⚠️
```

**判定结果**: **优质进场期**，但对标链有瑕疵

**分级建议**:
- **高稳健型**: 不建议操作（SOL退场影响整体信心）
- **高风险型**: 可以中仓参与（40%），但要设置严格止损
- **中间型**: 观望为主，等待SOL企稳后再考虑

**重点说明**: 小币操作时，对标链的完整性非常重要。即使数据优质，如果龙头币有分歧，也要格外谨慎。

---

### 示例7: 插值计算的退场期 (完整流程)

**数据**:
```
日期: 2025-04-20
币种: ETH
当前状态: 退场期第1天
场外指数: 555
爆破指数: -29

前一天 (2025-04-19):
场外指数: 740
爆破指数: 114

参考节点查找:
2025-04-15: 场外指数 680, 爆破指数 -10
2025-04-16: 场外指数 820, 爆破指数 35 ← 负转正发生在这两天之间
```

**步骤1: 插值计算参考节点场外指数**
```
爆破指数从 -10 → 35，跨越 0

场外指数@0 = 680 + (820-680) × (0-(-10))/(35-(-10))
            = 680 + 140 × 10/45
            = 680 + 31.11
            = 711.11
```

**步骤2: 计算基础涨幅**
```
基础涨幅 = (555-711.11)/711.11 × 100% = -21.95%

退场期反向计算:
实际涨幅 = -(-21.95%) = +21.95%
```

**步骤3: 应用修正**
```
相变修正 = 0 (555 < 1000, 711 < 1000)
美股修正 = 0
爆破指数修正 = -2.5% (退场期第1天 且 爆破-29 < 0)
逼近修正 = 0

最终百分比 = 21.95% + 0 + 0 + (-2.5%) + 0 = 19.45%
```

**判定结果**: **优质退场期** (> 5%)

**重点说明**:
- 退场期的基础涨幅要反向计算
- 插值计算确保了参考节点的精确性
- 爆破指数为负值时触发修正，警示市场极度冷却

---

### 示例8: 多重修正的劣质退场 (最复杂场景)

**数据**:
```
日期: 2025-03-10
币种: PEPE (小币)
当前状态: 退场期第1天 逼近
场外指数: 432
爆破指数: -27

参考节点 (2025-03-05, 爆破负转正):
场外指数: 450
爆破指数: 5

对标链状态:
- 美股: 退场期第2天
- BTC: 退场期第1天
- ETH: 退场期第3天
- BNB: 退场期第1天
```

**分析过程**:
```
1. 基础涨幅 (退场期反向):
   原始涨幅 = (432-450)/450 × 100% = -4.0%
   退场期反向 = -(-4.0%) = +4.0%

2. 相变修正 = 0 (都在1000以下)

3. 美股修正 = 0 (都在退场期，不触发)

4. 爆破指数修正 = -2.5%
   (退场期第1天 且 爆破-27 < 0)

5. 逼近修正 = -5%
   (当日有"逼近"标记)

最终百分比 = 4.0% + 0 + 0 + (-2.5%) + (-5%) = -3.5%
```

**对标链验证**:
```
对于小币退场期，不做严格验证
(退场期操作以止盈为主)
```

**判定结果**: **一般退场期** (-5% ~ 5%)

**分级建议**:
- **高稳健型**: 立即止盈，全部清仓
- **高风险型**: 保留20%底仓，其余清仓
- **中间型**: 减仓至30%，观察后续

**重点说明**:
- 多重修正叠加导致质量下降
- 退场期出现"逼近"很危险（可能转进场又转回退场）
- 爆破指数为负值说明市场已经很冷
- 小币在这种情况下建议坚决止盈

---

### 示例总结

| 示例 | 场景 | 最终% | 评级 | 关键点 |
|-----|------|------|------|--------|
| 1 | 简单优质进场 | +7.14% | 优质 | 基础场景 |
| 2 | 相变修正 | +19.67% | 优质 | 跨越1000 |
| 3 | 美股修正 | +10.39% | 优质 | 美股拖累 |
| 4 | 爆破修正 | +3.38% | 一般 | 市场过热 |
| 5 | 逼近修正 | +18.12% | 优质 | 主力犹豫 |
| 6 | 对标链验证 | +32.78% | 优质 | 龙头分歧 |
| 7 | 插值计算 | +19.45% | 优质 | 退场期 |
| 8 | 多重修正 | -3.5% | 一般 | 复杂场景 |

**学习路径建议**:
1. 从示例1开始，理解基础计算
2. 掌握示例2-5，理解各种修正
3. 学习示例6，掌握对标链验证
4. 研究示例7-8，掌握复杂场景处理

---

## 五、功能特性

### 核心功能
- ✅ **数据抓取与解析** - 支持Notion/CSV/JSON/HTML多种格式
- ✅ **关键节点检测** - 自动识别4种关键节点
- ✅ **插值法计算** - 精确计算爆破指数临界点的场外指数
- ✅ **对标链验证** - 美股→BTC→龙头币→小币 逐级验证
- ✅ **多维度修正** - 相变/美股/爆破指数/逼近 四重修正
- ✅ **质量判定** - 自动量化行情质量（优质/一般/劣质）
- ✅ **分级建议** - 为三类投资者提供差异化建议

### 技术特性
- ✅ **乱序录入支持** (v2.0) - 支持任意顺序录入数据
- ✅ **缺失日期补录** (v2.0) - 可以跳过某些日期，后续补录
- ✅ **重新分析工具** (v2.0) - 补录后重新分析历史数据
- ✅ **SQLite本地存储** - 数据可迁移、可备份
- ✅ **日期+币种主键** - 自动覆盖更新
- ✅ **动态龙头币识别** - 根据市场变化调整
- ✅ **Rich库美化输出** - 优雅的命令行界面

---

## 六、安装与使用

### 安装

```bash
# 克隆项目
git clone <your-repo-url>
cd mag

# 安装依赖
pip3 install -r requirements.txt
```

### 快速开始

**重要**: 项目采用标准 Python 结构（src/ 目录），有两种运行方式：

**方式A（推荐）**: 使用便捷脚本
```bash
./mag_import.sh manual
./mag_system.sh
./mag_reanalyze.sh 2025-10-10 2025-10-15
```

**方式B**: 直接运行（需要设置 PYTHONPATH）
```bash
PYTHONPATH=/path/to/mag python3 src/mag_import.py manual
```

---

#### 方式一：手动录入（推荐新手）

```bash
# 交互式录入单条数据
./mag_import.sh manual
```

按提示输入：
- 日期（格式：2025-10-14）
- 币种名称（如：BTC）
- 场外指数、爆破指数
- 进退场期类型和天数
- 可选：谢林点、龙头币标记、美股标记、逼近标记

#### 方式二：批量导入（推荐历史数据）

**CSV批量导入**:
```bash
# 1. 创建CSV模板
./mag_import.sh template csv

# 2. 编辑 mag_import_template.csv

# 3. 批量导入
./mag_import.sh csv mag_import_template.csv
```

**JSON批量导入**:
```bash
# 1. 创建JSON模板
./mag_import.sh template json

# 2. 编辑 mag_import_template.json

# 3. 批量导入
./mag_import.sh json mag_import_template.json
```

**浮墨笔记HTML导入**:
```bash
# 直接导入浮墨笔记的HTML导出文件
./mag_import.sh html flow的笔记.html
```

系统会自动识别包含 `#Mag` 标签的笔记并批量导入。

#### 方式三：运行完整分析

```bash
# 运行系统主程序
./mag_system.sh
```

### 重新分析工具 (v2.0新增)

当你补录数据或修复逻辑后，需要重新分析：

```bash
# 重新分析单个日期
./mag_reanalyze.sh 2025-10-14

# 重新分析日期范围
./mag_reanalyze.sh 2025-10-10 2025-10-15

# 重新分析指定币种
./mag_reanalyze.sh 2025-10-10 2025-10-15 BTC ETH

# 重新分析所有历史数据
./mag_reanalyze.sh 2025-01-01 2025-12-31
```

### 数据导入工具完整用法

```bash
# 显示帮助
./mag_import.sh

# 手动录入
./mag_import.sh manual

# CSV批量导入
./mag_import.sh csv <file.csv>

# JSON批量导入
./mag_import.sh json <file.json>

# HTML批量导入
./mag_import.sh html <file.html>

# 创建模板
./mag_import.sh template csv   # CSV模板
./mag_import.sh template json  # JSON模板
```

---

## 七、技术文档

### 数据格式

#### 输入格式（Notion页面示例）

```
10.14

Btc  场外指数682场外退场期第4天
爆破指数31
谢林点 110000

Eth  场外指数613场外退场期第4天
爆破指数25
谢林点 3900

BNB 场外指数1004场外进场期第14天  逼近
爆破指数131
谢林点 1140

大宗$美股区
美股纳指 OTC 场外指数847场外退场期第4天
爆破指数35

COIN 场外指数909爆破指数55
退场期1天

布伦特原油 场外指数798爆破指数-25
场外退场期第14天
```

#### 数据库结构

**coin_daily_data（主数据表）**:
- `date` - 日期
- `coin` - 币种名称
- `phase_type` - 进场期/退场期
- `phase_days` - 天数
- `offchain_index` - 场外指数
- `break_index` - 爆破指数
- `shelin_point` - 谢林点
- `is_dragon_leader` - 是否龙头币（1/0）
- `is_us_stock` - 是否美股（1/0）
- `is_approaching` - 是否逼近（1/0）

**analysis_results（分析结果表）**:
- 存储所有关键节点的分析结果
- 包括参考节点、涨幅计算、各项修正值、质量评级等

### 核心算法

#### 1. 关键节点检测
```python
# 进场期第一天：phase_days == 1 且 phase_type == '进场期'
# 退场期第一天：phase_days == 1 且 phase_type == '退场期'
# 爆破跌破200：前日 >= 200 且 当日 < 200
# 爆破负转正：前日 < 0 且 当日 >= 0
```

#### 2. 插值法计算
```python
# 计算爆破指数=200时的场外指数
场外指数@200 = 前日场外指数 +
               (当日场外指数 - 前日场外指数) ×
               (200 - 前日爆破指数) /
               (当日爆破指数 - 前日爆破指数)
```

#### 3. 质量判定公式
```python
最终百分比 = 基础涨幅 + 相变修正 + 美股修正 +
             爆破指数修正 + 逼近修正

# 相变修正：跨越1000分界线时 ±5%
# 美股修正：美股退场期且币种进场期时 -10%
# 爆破指数修正：
#   - 进场期第一天 且 爆破指数>200: -2.5%
#   - 退场期第一天 且 爆破指数<0: -2.5%
# 逼近修正：当日有逼近标记 -5%

质量评级:
  > 5%: 优质
  -5% ~ 5%: 一般
  < -5%: 劣质
```

#### 4. 进退场期反向逻辑 (v2.3.0)

**进场期**：
- 场外指数变高 → 涨幅为正
- 场外指数变低 → 涨幅为负
- 跨越1000向上 → 相变修正 +5%
- 跨越1000向下 → 相变修正 -5%

**退场期**：
- 场外指数变高 → 涨幅为负（反向）
- 场外指数变低 → 涨幅为正（反向）
- 跨越1000向上 → 相变修正 -5%（反向）
- 跨越1000向下 → 相变修正 +5%（反向）

#### 5. 对标链验证
```
小币进场条件：
  ✓ 美股进场期
  AND ✓ BTC进场期
  AND ✓ 所有龙头币进场期

龙头币进场条件：
  ✓ 美股进场期
  AND ✓ BTC进场期

BTC和美股：
  始终通过验证
```

### 输出示例

```
============================================================
币种：BTC
日期：2025-10-15
当前状态：进场期第1天
------------------------------------------------------------
对标链分析：美股进场期、核心基准币种
关键节点对比：980 (2025-10-10, 爆破指数跌破200)
            → 1050 (2025-10-15, 进场期第一天)
场外指数变化：
  基础涨幅     +7.1%
  相变修正     +0.0%
  美股修正     +0.0%
  爆破指数修正 +0.0%
  逼近修正     +0.0%
  ─────────────────
  最终百分比   +7.1%

判定结果：【优质进场期】
------------------------------------------------------------
分级建议：

  ▸ 高稳健型：
    - 分批建仓主流币种（建议3-5批，每批20%-25%）
    - 设置紧密止损（-5%~-8%）
    - 优先配置BTC/ETH等核心资产

  ▸ 高风险型：
    - 主流币重仓配置（可达60%-70%总仓位）
    - 山寨币适度分配（20%-30%）
    - 设置动态加码机制和追踪止损

  ▸ 中间型：
    - 建立基线仓位（40%-50%）
    - 逐节点上涨后追加配置
    - 保持30%现金应对回调
============================================================
```

### 文件结构

详见 [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)

### 版本历史

详见 [CHANGELOG.md](CHANGELOG.md)

### 已实现功能 ✅

#### v2.3.0 (当前版本)
- ✅ **退场期逻辑修复** - 修正基础涨幅和相变修正的反向计算
- ✅ **中文币名支持** - 修复原油等中文币名的解析问题

#### v2.2.0
- ✅ **逼近修正** - 新增对"逼近"状态的检测和修正

#### v2.1.0
- ✅ **爆破指数修正** - 新增极端爆破指数的修正规则

#### v2.0.0
- ✅ **乱序录入支持** - 支持任意顺序录入数据
- ✅ **缺失日期补录** - 可以跳过某些日期，后续补录
- ✅ **重新分析工具** - 补录后重新分析历史数据
- ✅ **日期查询重构** - 使用日期计算代替数组索引

#### v1.0.0
- ✅ **MVP基础功能** - Firecrawl集成、手动录入、批量导入
- ✅ **关键节点检测** - 4种关键节点自动识别
- ✅ **对标链验证** - 多层验证逻辑
- ✅ **质量判定** - 智能修正算法
- ✅ **分级建议** - 三类投资者差异化建议

### 技术栈

- **Python 3.9+**
- **SQLite** - 轻量级数据库
- **BeautifulSoup4** - HTML解析
- **Rich** - 命令行美化
- **正则表达式** - 灵活的数据解析

---

## 许可证

MIT License

## 作者

Flow - Mag场外体系实现
Claude Code - 开发辅助

---

**⚠️ 风险提示**: 本系统仅供参考，不构成投资建议。投资有风险，决策需谨慎。

**📚 延伸阅读**:
- [项目结构说明](PROJECT_STRUCTURE.md)
- [版本更新日志](CHANGELOG.md)
- [数据录入指南](数据录入指南.md)
